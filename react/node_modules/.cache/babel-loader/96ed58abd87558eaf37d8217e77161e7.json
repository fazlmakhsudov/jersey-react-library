{"ast":null,"code":"var _jsxFileName = \"/home/fazliddin/IdeaProjects/rest-apps/jersey-library/react/src/component/author.js\";\nimport React, { useState, useEffect } from 'react';\nimport ImageHolder from './image-holder.js';\nimport axios from 'axios';\nimport { Row, Col, ButtonGroup, Dropdown, Modal, Form, Button, Accordion, Card, OverlayTrigger, Popover, Tooltip } from 'react-bootstrap';\n\nfunction Author(props) {\n  let url = props.url + \"/author\";\n  let setData = props.setData;\n  let setAuthors = props.setAuthors;\n  let authorityFlag = props.authorityFlag;\n  let authors = props.authors;\n  let books = props.books;\n  const [flag, setFlag] = useState(true);\n  const [authorId, setAuthorId] = useState(null);\n  const [showFlag, setShowFlag] = useState(false);\n  const [modalType, setModalType] = useState('');\n  const [searchText, setSearchText] = useState('');\n  const [name, setName] = useState('');\n  const [birthdate, setBirthdate] = useState('');\n  const [updateFlag, setUpdateFlag] = useState(false);\n  const [createFlag, setCreateFlag] = useState(false);\n  const [deleteFlag, setDeleteFlag] = useState(false);\n  const [chooseUpdateFlag, setChooseUpdateFlag] = useState(false);\n  const [chooseDeleteFlag, setChooseDeleteFlag] = useState(false);\n  const [chooseModalBodyFlag, setChooseModalBodyFlag] = useState(false);\n\n  function createAuthor() {\n    axios({\n      'method': 'POST',\n      'url': url,\n      'headers': {\n        'Content-Type': 'application/json'\n      },\n      data: {\n        id: '1',\n        name: name,\n        birthdate: birthdate\n      }\n    }).then(response => {\n      if (response.status === 201) {\n        getAllAuthors();\n        setCreateFlag(false);\n        clearAuthorFields();\n      }\n    }).catch(error => {\n      alert('can\\'t create author \\n' + error);\n      setCreateFlag(false);\n      clearAuthorFields();\n    });\n  }\n\n  function getAllAuthors(listNameFlag = false) {\n    axios({\n      'method': 'GET',\n      'url': url,\n      'headers': {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => {\n      if (response.status === 200) {\n        setAuthors(response.data);\n\n        if (!listNameFlag) {\n          setData(formAuthorsHtml(response.data));\n        }\n      }\n    }).catch(error => {\n      alert('can\\'t read all authors \\n' + error);\n    });\n  }\n\n  function getAuthor() {\n    axios({\n      'method': 'GET',\n      'url': url + \"/\" + searchText,\n      'headers': {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => {\n      if (response.status === 200) {\n        setSearchText('');\n        setData(formAuthorHtml(response.data));\n      } else {\n        alert(\"There is no author with id: \" + searchText);\n        setSearchText('');\n      }\n    }).catch(error => {\n      alert('can\\'t read author \\n' + error);\n      setSearchText('');\n    });\n  }\n\n  function updateAuthor() {\n    axios({\n      'method': 'PUT',\n      'url': url,\n      'headers': {\n        'Content-Type': 'application/json'\n      },\n      data: {\n        id: authorId,\n        name: name,\n        birthdate: birthdate\n      }\n    }).then(response => {\n      if (response.status === 200) {\n        setUpdateFlag(false);\n        setChooseUpdateFlag(false);\n        setChooseModalBodyFlag(false);\n        clearAuthorFields();\n        getAllAuthors();\n      }\n    }).catch(error => {\n      alert('can\\'t update \\n' + error);\n      setUpdateFlag(false);\n      setChooseUpdateFlag(false);\n      setChooseModalBodyFlag(false);\n      clearAuthorFields();\n    });\n  }\n\n  function deleteAuthor() {\n    axios({\n      'method': 'DELETE',\n      'url': url + \"/\" + authorId,\n      'headers': {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => {\n      if (response.status === 200) {\n        setDeleteFlag(false);\n        setChooseDeleteFlag(false);\n        setChooseModalBodyFlag(false);\n        clearAuthorFields();\n        getAllAuthors();\n      }\n    }).catch(error => {\n      alert('can\\'t delete \\n' + error);\n      setDeleteFlag(false);\n      setChooseDeleteFlag(false);\n      setChooseModalBodyFlag(false);\n      clearAuthorFields();\n    });\n  }\n\n  function clearAuthorFields() {\n    setAuthorId('');\n    setName('');\n    setBirthdate('');\n    setSearchText('');\n  }\n\n  function showModal(type) {\n    setShowFlag(true);\n    setModalType(type);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    setShowFlag(false);\n\n    if (modalType === 'author') {\n      getAuthor();\n    }\n  }\n\n  function getRandomInt(max, bookFlag = false) {\n    let randomValue = Math.floor(Math.random() * Math.floor(max));\n\n    if (randomValue === 0 && !bookFlag) {\n      randomValue = 6;\n    } else if (bookFlag) {\n      randomValue = randomValue === 0 ? 10 : randomValue + 6;\n    }\n\n    return randomValue;\n  }\n\n  function formAuthorHtml(item) {\n    if (!Object.is(item, null)) {\n      let html = /*#__PURE__*/React.createElement(Row, {\n        className: \"mt-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        className: \"text-center\",\n        lg: 6,\n        md: 6,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(ImageHolder, {\n        id: getRandomInt(6),\n        name: item.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(Col, {\n        lg: 6,\n        md: 6,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        className: \"font-24\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: 3,\n        xs: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 17\n        }\n      }, \"Name:\")), /*#__PURE__*/React.createElement(Col, {\n        md: 9,\n        xs: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 15\n        }\n      }, item.name)), /*#__PURE__*/React.createElement(Row, {\n        className: \"font-24\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: 4,\n        xs: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 17\n        }\n      }, \"Birthdate:\")), /*#__PURE__*/React.createElement(Col, {\n        md: 8,\n        xs: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 15\n        }\n      }, item.birthdate.dayOfMonth + \" / \" + item.birthdate.monthValue + \" / \" + item.birthdate.year)), authorityFlag ? /*#__PURE__*/React.createElement(Row, {\n        className: \"font-24\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        lg: 12,\n        md: 12,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Accordion, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Accordion.Toggle, {\n        as: Card.Header,\n        eventKey: \"0\",\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 25\n        }\n      }, \"Click me!\"), /*#__PURE__*/React.createElement(Accordion.Collapse, {\n        eventKey: \"0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Card.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"info\",\n        onClick: () => handleOperation(item),\n        block: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 29\n        }\n      }, \"Update\"), /*#__PURE__*/React.createElement(Button, {\n        variant: \"danger\",\n        onClick: () => handleOperation(item, false, true),\n        block: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 29\n        }\n      }, \"Delete\"))))))) : '', /*#__PURE__*/React.createElement(Row, {\n        className: \"mt-3 font-24\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 13\n        }\n      }, formBooksOfAuthor(item.id).map((book, index) => {\n        return /*#__PURE__*/React.createElement(Col, {\n          className: \"text-center\",\n          lg: 4,\n          md: 4,\n          xs: 6,\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 26\n          }\n        }, getPopOver(book));\n      }))));\n      return html;\n    }\n  }\n\n  function getPopOver(placement) {\n    console.log('hover book', placement);\n    return /*#__PURE__*/React.createElement(OverlayTrigger, {\n      placement: \"right\",\n      overlay: /*#__PURE__*/React.createElement(Tooltip, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(ImageHolder, {\n        id: getRandomInt(4, true),\n        name: placement.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 14\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 7\n      }\n    }, placement.name));\n  }\n\n  function formBooksOfAuthor(authorId) {\n    let authorBook = [];\n    books.map(book => {\n      if (book.author.id === authorId) {\n        authorBook.push(book);\n      }\n    });\n    return authorBook;\n  }\n\n  function formAuthorsHtml(items) {\n    let htmls = [];\n    htmls.push(items.map((item, index) => {\n      return /*#__PURE__*/React.createElement(Col, {\n        lg: 6,\n        md: 6,\n        xs: 12,\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 14\n        }\n      }, formAuthorHtml(item));\n    }));\n    htmls = /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 13\n      }\n    }, htmls);\n    return htmls;\n  }\n\n  function handleOperation(item, createflag = false, deleteFlag = false) {\n    setModalType('author');\n\n    if (createflag) {\n      setCreateFlag(true);\n      return;\n    }\n\n    setAuthorId(item.id);\n    setName(item.name);\n    let date = new Date(item.birthdate.year, item.birthdate.monthValue - 1, item.birthdate.dayOfMonth);\n    setBirthdate(date);\n\n    if (deleteFlag) {\n      setDeleteFlag(true);\n    } else {\n      setUpdateFlag(true);\n    }\n  }\n\n  function handleClose() {\n    clearAuthorFields();\n    setChooseModalBodyFlag(false);\n\n    if (chooseUpdateFlag || chooseDeleteFlag) {\n      setChooseUpdateFlag(false);\n      setChooseDeleteFlag(false);\n      return;\n    }\n\n    createFlag ? setCreateFlag(false) : updateFlag ? setUpdateFlag(false) : setDeleteFlag(false);\n  }\n\n  function formModalBody() {\n    return /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      className: \"ml-2\",\n      column: true,\n      sm: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 11\n      }\n    }, \"Name:\"), /*#__PURE__*/React.createElement(Col, {\n      sm: \"8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      className: \"w-75\",\n      style: {\n        alignCenter: 'center'\n      },\n      placeholder: \"Type name\",\n      value: name,\n      onChange: e => setName(e.target.value),\n      disableParameter: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      className: \"ml-2\",\n      column: true,\n      sm: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 11\n      }\n    }, \"Birthdate:\"), /*#__PURE__*/React.createElement(Col, {\n      sm: \"8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"date\",\n      className: \"w-75\",\n      style: {\n        alignCenter: 'center'\n      },\n      value: birthdate,\n      onChange: e => setBirthdate(e.target.value),\n      disableParameter: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }\n    })));\n  }\n\n  function getAuthorByName(name) {\n    let authorToSearch = {};\n    authors.map(author => {\n      if (Object.is(name, author.name)) {\n        authorToSearch = author;\n      }\n    });\n    return authorToSearch;\n  }\n\n  function handleChooseOperation(name) {\n    setSearchText(name);\n\n    if (Object.is('choose', name)) {\n      setChooseModalBodyFlag(false);\n      return;\n    }\n\n    let item = getAuthorByName(name);\n    setAuthorId(item.id);\n    setName(item.name);\n    let date = new Date(item.birthdate.year, item.birthdate.monthValue - 1, item.birthdate.dayOfMonth);\n    setBirthdate(date);\n    setChooseModalBodyFlag(true);\n  }\n\n  useEffect(() => {\n    console.log(\"useEffect authors:\");\n\n    if (flag) {\n      getAllAuthors(true);\n      setFlag(false);\n    }\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown, {\n    as: ButtonGroup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown.Toggle, {\n    className: \"width-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"nav-menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 13\n    }\n  }, \"Authors\")), /*#__PURE__*/React.createElement(Dropdown.Menu, {\n    className: \"width-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 11\n    }\n  }, authorityFlag ? /*#__PURE__*/React.createElement(Dropdown.Item, {\n    eventKey: \"1\",\n    className: \"pl-5 h4\",\n    onClick: () => handleOperation('', true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 17\n    }\n  }, \"Add new author\") : '', /*#__PURE__*/React.createElement(Dropdown.Item, {\n    eventKey: \"2\",\n    className: \"pl-5 h4\",\n    onClick: () => showModal('author'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 13\n    }\n  }, \"Find author\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n    eventKey: \"3\",\n    className: \"pl-5 h4\",\n    onClick: () => getAllAuthors(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 13\n    }\n  }, \"Find authors\"), authorityFlag ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Dropdown.Item, {\n    eventKey: \"4\",\n    className: \"pl-5 h4\",\n    onClick: () => setChooseUpdateFlag(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 19\n    }\n  }, \"Update\"), /*#__PURE__*/React.createElement(Dropdown.Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Dropdown.Item, {\n    eventKey: \"4\",\n    className: \"pl-5 h4\",\n    onClick: () => setChooseDeleteFlag(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 19\n    }\n  }, \"Delete\")) : ''))), /*#__PURE__*/React.createElement(Modal, {\n    show: showFlag,\n    onHide: () => setShowFlag(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"h3 ml-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 24\n    }\n  }, \"Find \", modalType))), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: e => handleSubmit(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    className: \"ml-5 w-75\",\n    style: {\n      alignCenter: 'center'\n    },\n    placeholder: \"Type name of \" + modalType,\n    value: searchText,\n    onChange: e => setSearchText(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Form.Text, {\n    className: \"ml-5 text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 15\n    }\n  }, \"Press enter when you have already typed\"))))), /*#__PURE__*/React.createElement(Modal, {\n    show: updateFlag || createFlag || deleteFlag,\n    onHide: () => handleClose(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"h3 ml-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 24\n    }\n  }, createFlag ? \"Create \" : updateFlag ? \"Update \" : \"Delete \", \" \", modalType))), formModalBody(), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: deleteFlag ? 'danger' : 'info',\n    type: \"submit\",\n    onClick: () => createFlag ? createAuthor() : updateFlag ? updateAuthor() : deleteAuthor(),\n    block: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 11\n    }\n  }, createFlag ? \"Create\" : updateFlag ? \"Update\" : \"Delete\"))), /*#__PURE__*/React.createElement(Modal, {\n    show: chooseUpdateFlag || chooseDeleteFlag,\n    onHide: () => handleClose(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"h3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 11\n    }\n  }, \"Author to \", chooseUpdateFlag ? \"update\" : \"delete\"), /*#__PURE__*/React.createElement(Col, {\n    lg: 6,\n    md: 6,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"select\",\n    defaultValue: createFlag ? \"choose\" : searchText,\n    onChange: e => handleChooseOperation(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 15\n    }\n  }, \"choose\"), authors.map((author, index) => /*#__PURE__*/React.createElement(\"option\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 19\n    }\n  }, author.name))))), chooseModalBodyFlag ? formModalBody() : '', /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: chooseUpdateFlag ? 'info' : 'danger',\n    type: \"submit\",\n    onClick: () => chooseUpdateFlag ? updateAuthor() : deleteAuthor(),\n    block: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 11\n    }\n  }, chooseUpdateFlag ? \"Update\" : \"Delete\"))));\n}\n\nexport default Author;","map":{"version":3,"sources":["/home/fazliddin/IdeaProjects/rest-apps/jersey-library/react/src/component/author.js"],"names":["React","useState","useEffect","ImageHolder","axios","Row","Col","ButtonGroup","Dropdown","Modal","Form","Button","Accordion","Card","OverlayTrigger","Popover","Tooltip","Author","props","url","setData","setAuthors","authorityFlag","authors","books","flag","setFlag","authorId","setAuthorId","showFlag","setShowFlag","modalType","setModalType","searchText","setSearchText","name","setName","birthdate","setBirthdate","updateFlag","setUpdateFlag","createFlag","setCreateFlag","deleteFlag","setDeleteFlag","chooseUpdateFlag","setChooseUpdateFlag","chooseDeleteFlag","setChooseDeleteFlag","chooseModalBodyFlag","setChooseModalBodyFlag","createAuthor","data","id","then","response","status","getAllAuthors","clearAuthorFields","catch","error","alert","listNameFlag","formAuthorsHtml","getAuthor","formAuthorHtml","updateAuthor","deleteAuthor","showModal","type","handleSubmit","e","preventDefault","getRandomInt","max","bookFlag","randomValue","Math","floor","random","item","Object","is","html","dayOfMonth","monthValue","year","Header","handleOperation","formBooksOfAuthor","map","book","index","getPopOver","placement","console","log","authorBook","author","push","items","htmls","createflag","date","Date","handleClose","formModalBody","alignCenter","target","value","getAuthorByName","authorToSearch","handleChooseOperation"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ImageHolder from './image-holder.js';\nimport axios from 'axios';\nimport {\n  Row, Col, ButtonGroup, Dropdown, Modal, Form, Button, Accordion, Card,\n  OverlayTrigger, Popover, Tooltip\n} from 'react-bootstrap';\n\n\nfunction Author(props) {\n  let url = props.url + \"/author\";\n  let setData = props.setData;\n  let setAuthors = props.setAuthors;\n  let authorityFlag = props.authorityFlag;\n  let authors = props.authors;\n  let books = props.books;\n\n  const [flag, setFlag] = useState(true);\n  const [authorId, setAuthorId] = useState(null);\n  const [showFlag, setShowFlag] = useState(false);\n  const [modalType, setModalType] = useState('');\n  const [searchText, setSearchText] = useState('');\n  const [name, setName] = useState('');\n  const [birthdate, setBirthdate] = useState('');\n  const [updateFlag, setUpdateFlag] = useState(false);\n  const [createFlag, setCreateFlag] = useState(false);\n  const [deleteFlag, setDeleteFlag] = useState(false);\n  const [chooseUpdateFlag, setChooseUpdateFlag] = useState(false);\n  const [chooseDeleteFlag, setChooseDeleteFlag] = useState(false);\n  const [chooseModalBodyFlag, setChooseModalBodyFlag] = useState(false);\n\n  function createAuthor() {\n    axios({\n      'method': 'POST',\n      'url': url,\n      'headers': {\n        'Content-Type': 'application/json',\n      },\n      data: {\n        id: '1',\n        name: name,\n        birthdate: birthdate,\n      }\n    }).then(response => {\n      if (response.status === 201) {\n        getAllAuthors();\n        setCreateFlag(false);\n        clearAuthorFields();\n      }\n    }).catch(error => {\n      alert('can\\'t create author \\n' + error);\n      setCreateFlag(false);\n      clearAuthorFields();\n    });\n  }\n\n  function getAllAuthors(listNameFlag = false) {\n    axios({\n      'method': 'GET',\n      'url': url,\n      'headers': {\n        'Content-Type': 'application/json',\n      },\n    }).then(response => {\n      if (response.status === 200) {\n        setAuthors(response.data)\n        if (!listNameFlag) {\n          setData(formAuthorsHtml(response.data));\n        }\n      }\n    }).catch(error => {\n      alert('can\\'t read all authors \\n' + error);\n    });\n  }\n\n  function getAuthor() {\n    axios({\n      'method': 'GET',\n      'url': url + \"/\" + searchText,\n      'headers': {\n        'Content-Type': 'application/json',\n      },\n    }).then(response => {\n      if (response.status === 200) {\n        setSearchText('');\n        setData(formAuthorHtml(response.data));\n      } else {\n        alert(\"There is no author with id: \" + searchText);\n        setSearchText('');\n      }\n    }).catch(error => {\n      alert('can\\'t read author \\n' + error);\n      setSearchText('');\n    });\n  }\n\n  function updateAuthor() {\n    axios({\n      'method': 'PUT',\n      'url': url,\n      'headers': {\n        'Content-Type': 'application/json',\n      },\n      data: {\n        id: authorId,\n        name: name,\n        birthdate: birthdate,\n      }\n    }).then(response => {\n      if (response.status === 200) {\n        setUpdateFlag(false);\n        setChooseUpdateFlag(false);\n        setChooseModalBodyFlag(false);\n        clearAuthorFields();\n        getAllAuthors();\n      }\n    }).catch(error => {\n      alert('can\\'t update \\n' + error);\n      setUpdateFlag(false);\n      setChooseUpdateFlag(false);\n      setChooseModalBodyFlag(false);\n      clearAuthorFields();\n    });\n  }\n\n  function deleteAuthor() {\n    axios({\n      'method': 'DELETE',\n      'url': url + \"/\" + authorId,\n      'headers': {\n        'Content-Type': 'application/json',\n      },\n    }).then(response => {\n      if (response.status === 200) {\n        setDeleteFlag(false);\n        setChooseDeleteFlag(false);\n        setChooseModalBodyFlag(false);\n        clearAuthorFields();\n        getAllAuthors();\n      }\n    }).catch(error => {\n      alert('can\\'t delete \\n' + error);\n      setDeleteFlag(false);\n      setChooseDeleteFlag(false);\n      setChooseModalBodyFlag(false);\n      clearAuthorFields();\n    });\n  }\n\n  function clearAuthorFields() {\n    setAuthorId('');\n    setName('');\n    setBirthdate('');\n    setSearchText('');\n  }\n\n  function showModal(type) {\n    setShowFlag(true);\n    setModalType(type);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    setShowFlag(false);\n    if (modalType === 'author') {\n      getAuthor();\n    }\n  }\n\n  function getRandomInt(max, bookFlag = false) {\n    let randomValue = Math.floor(Math.random() * Math.floor(max));\n    if (randomValue === 0 && !bookFlag) {\n      randomValue = 6;\n    } else if (bookFlag) {\n      randomValue = randomValue === 0 ? 10 : randomValue + 6;\n    }\n    return randomValue;\n  }\n\n  function formAuthorHtml(item) {\n    if (!Object.is(item, null)) {\n      let html =\n        <Row className='mt-5'>\n          <Col className='text-center' lg={6} md={6} xs={12}>\n            <ImageHolder id={getRandomInt(6)} name={item.name} />\n          </Col>\n          <Col lg={6} md={6} xs={12}>\n            <Row className='font-24'>\n              <Col md={3} xs={6}>\n                <strong>Name:</strong>\n              </Col>\n              <Col md={9} xs={6}>\n                {item.name}\n              </Col>\n            </Row>\n            <Row className='font-24'>\n              <Col md={4} xs={6}>\n                <strong>Birthdate:</strong>\n              </Col>\n              <Col md={8} xs={6}>\n                {item.birthdate.dayOfMonth + \" / \" + item.birthdate.monthValue + \" / \" + item.birthdate.year}\n              </Col>\n            </Row>\n            {\n              authorityFlag ?\n                <Row className='font-24'>\n                  <Col lg={12} md={12} xs={12}>\n                    <Accordion>\n                      <Card>\n                        <Accordion.Toggle as={Card.Header} eventKey=\"0\" className=\"text-center\">\n                          Click me!\n                        </Accordion.Toggle>\n                        <Accordion.Collapse eventKey=\"0\">\n                          <Card.Body>\n                            <Button variant='info' onClick={() => handleOperation(item)} block>Update</Button>\n                            <Button variant='danger' onClick={() => handleOperation(item, false, true)} block>Delete</Button>\n                          </Card.Body>\n                        </Accordion.Collapse>\n                      </Card>\n                    </Accordion>\n                  </Col>\n                </Row> : ''\n            }\n            <Row className='mt-3 font-24'>\n              {\n                formBooksOfAuthor(item.id).map((book, index) => {\n                  return <Col className='text-center' lg={4} md={4} xs={6} key={index}>\n                    {\n                      getPopOver(book)\n                    }\n                  </Col>\n                })\n              }\n            </Row>\n          </Col>\n        </Row>;\n      return html;\n    }\n  }\n\n  function getPopOver(placement) {\n    console.log('hover book', placement);\n    return <OverlayTrigger placement='right' overlay={\n    <Tooltip><ImageHolder id={getRandomInt(4, true)} name={placement.name} /></Tooltip>}>\n      <p>{placement.name}</p>\n    </OverlayTrigger>\n  }\n\n  function formBooksOfAuthor(authorId) {\n    let authorBook = [];\n    books.map(book => {\n      if (book.author.id === authorId) {\n        authorBook.push(book);\n      }\n    });\n    return authorBook;\n  }\n\n  function formAuthorsHtml(items) {\n    let htmls = [];\n    htmls.push(items.map((item, index) => {\n      return <Col lg={6} md={6} xs={12} key={index}>\n        {\n          formAuthorHtml(item)\n        }\n      </Col>;\n    }));\n\n    htmls = <Row>{htmls}</Row>;\n    return htmls;\n  }\n\n  function handleOperation(item, createflag = false, deleteFlag = false) {\n    setModalType('author');\n    if (createflag) {\n      setCreateFlag(true);\n      return;\n    }\n    setAuthorId(item.id);\n    setName(item.name);\n    let date = new Date(item.birthdate.year, item.birthdate.monthValue - 1, item.birthdate.dayOfMonth);\n    setBirthdate(date);\n    if (deleteFlag) {\n      setDeleteFlag(true)\n    } else {\n      setUpdateFlag(true);\n    }\n  }\n\n  function handleClose() {\n    clearAuthorFields();\n    setChooseModalBodyFlag(false);\n    if (chooseUpdateFlag || chooseDeleteFlag) {\n      setChooseUpdateFlag(false);\n      setChooseDeleteFlag(false);\n      return;\n    }\n    createFlag ? setCreateFlag(false) : updateFlag ? setUpdateFlag(false) : setDeleteFlag(false);\n  }\n\n  function formModalBody() {\n    return <Modal.Body>\n      <Form>\n        <Form.Group as={Row} >\n          <Form.Label className='ml-2' column sm=\"3\">Name:</Form.Label>\n          <Col sm=\"8\">\n            <Form.Control type=\"text\" className='w-75' style={{ alignCenter: 'center' }} placeholder='Type name' value={name} onChange={(e) => setName(e.target.value)} disableParameter />\n          </Col>\n        </Form.Group>\n        <br />\n        <Form.Group as={Row} >\n          <Form.Label className='ml-2' column sm=\"3\">Birthdate:</Form.Label>\n          <Col sm=\"8\">\n            <Form.Control type=\"date\" className='w-75' style={{ alignCenter: 'center' }} value={birthdate} onChange={(e) => setBirthdate(e.target.value)} disableParameter />\n          </Col>\n        </Form.Group>\n        <br />\n      </Form>\n    </Modal.Body>\n  }\n\n  function getAuthorByName(name) {\n    let authorToSearch = {};\n    authors.map((author) => {\n      if (Object.is(name, author.name)) {\n        authorToSearch = author;\n      }\n    });\n    return authorToSearch;\n  }\n\n  function handleChooseOperation(name) {\n    setSearchText(name);\n    if (Object.is('choose', name)) {\n      setChooseModalBodyFlag(false);\n      return;\n    }\n    let item = getAuthorByName(name);\n    setAuthorId(item.id);\n    setName(item.name);\n    let date = new Date(item.birthdate.year, item.birthdate.monthValue - 1, item.birthdate.dayOfMonth);\n    setBirthdate(date);\n    setChooseModalBodyFlag(true);\n  }\n\n  useEffect(() => {\n    console.log(\"useEffect authors:\");\n    if (flag) {\n      getAllAuthors(true);\n      setFlag(false);\n    }\n  });\n\n  return (\n    <>\n      <Col md={3} xs={12}>\n        <Dropdown as={ButtonGroup}>\n          <Dropdown.Toggle className=\"width-100\">\n            <p className='nav-menu'>Authors</p>\n          </Dropdown.Toggle>\n          <Dropdown.Menu className=\"width-100\">\n            {\n              authorityFlag ?\n                <Dropdown.Item eventKey=\"1\" className='pl-5 h4' onClick={() => handleOperation('', true)}>Add new author</Dropdown.Item> : ''\n            }\n            <Dropdown.Item eventKey=\"2\" className='pl-5 h4' onClick={() => showModal('author')}>Find author</Dropdown.Item>\n            <Dropdown.Item eventKey=\"3\" className='pl-5 h4' onClick={() => getAllAuthors()}>Find authors</Dropdown.Item>\n            {\n              authorityFlag ?\n                <>\n                  <Dropdown.Item eventKey=\"4\" className='pl-5 h4' onClick={() => setChooseUpdateFlag(true)}>Update</Dropdown.Item>\n                  <Dropdown.Divider />\n                  <Dropdown.Item eventKey=\"4\" className='pl-5 h4' onClick={() => setChooseDeleteFlag(true)}>Delete</Dropdown.Item>\n                </> : ''\n            }\n          </Dropdown.Menu>\n        </Dropdown>\n      </Col>\n      <Modal show={showFlag} onHide={() => setShowFlag(false)}>\n        <Modal.Header closeButton>\n          <Modal.Title><p className='h3 ml-5'>Find {modalType}</p></Modal.Title>\n        </Modal.Header>\n        <Modal.Body >\n          <Form onSubmit={(e) => handleSubmit(e)}>\n            <Form.Group>\n              <Form.Control type=\"text\" className='ml-5 w-75' style={{ alignCenter: 'center' }} placeholder={\"Type name of \" + modalType} value={searchText} onChange={(e) => setSearchText(e.target.value)} />\n              <Form.Text className=\"ml-5 text-muted\">\n                Press enter when you have already typed\n              </Form.Text>\n            </Form.Group>\n          </Form>\n        </Modal.Body>\n      </Modal>\n      <Modal show={updateFlag || createFlag || deleteFlag} onHide={() => handleClose()}>\n        <Modal.Header closeButton>\n          <Modal.Title><p className='h3 ml-2'>{createFlag ? \"Create \" : updateFlag ? \"Update \" : \"Delete \"} {modalType}</p></Modal.Title>\n        </Modal.Header>\n        {formModalBody()}\n        <Modal.Footer>\n          <Button variant={deleteFlag ? 'danger' : 'info'} type=\"submit\" onClick={() => createFlag ? createAuthor() : updateFlag ? updateAuthor() : deleteAuthor()} block>\n            {createFlag ? \"Create\" : updateFlag ? \"Update\" : \"Delete\"}\n          </Button>\n        </Modal.Footer>\n      </Modal>\n      <Modal show={chooseUpdateFlag || chooseDeleteFlag} onHide={() => handleClose()}>\n        <Modal.Header closeButton>\n          <p className='h3'>Author to {chooseUpdateFlag ? \"update\" : \"delete\"}</p>\n          <Col lg={6} md={6} xs={6}>\n            <Form.Control as=\"select\" defaultValue={\n              (createFlag) ? \"choose\" : searchText\n            } onChange={(e) => handleChooseOperation(e.target.value)}>\n              <option>choose</option>\n              {\n                authors.map((author, index) =>\n                  <option key={index}>\n                    {author.name}\n                  </option>\n                )\n              }\n            </Form.Control>\n          </Col>\n        </Modal.Header>\n        {\n          chooseModalBodyFlag ? formModalBody() : ''\n        }\n        <Modal.Footer>\n          <Button variant={chooseUpdateFlag ? 'info' : 'danger'} type=\"submit\" onClick={() => chooseUpdateFlag ? updateAuthor() : deleteAuthor()} block>\n            {chooseUpdateFlag ? \"Update\" : \"Delete\"}\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n}\n\nexport default Author;\n"]},"metadata":{},"sourceType":"module"}